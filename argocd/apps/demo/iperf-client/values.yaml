mode: client

replicaCount: 1

podLabels:
  iperf.opencost.io/group: test-infra

topologySpreadConstraints:
  - maxSkew: 1
    topologyKey: topology.kubernetes.io/zone
    whenUnsatisfiable: DoNotSchedule
    labelSelector:
      matchLabels:
        iperf.opencost.io/group: test-infra

service:
  enabled: false

client:
  targetHost: iperf-server-demo-iperf3.iperf-demo.svc.cluster.local
  targetPort: 5201
  durationSeconds: 60
  parallelStreams: 4
  waitSeconds: 90
  runForever: true
  extraArgs:
    - --get-server-output

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 500m
    memory: 256Mi
